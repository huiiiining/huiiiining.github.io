<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stranger danger</title>
    <link href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,400;0,700;1,400&family=Luckiest+Guy&display=swap" rel="stylesheet">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background-color: #fdfdfd; font-family: 'Bitter', serif; overflow: hidden; }
        

        .chat-container { display: flex; flex-direction: column; width: 100vw; height: 100vh; }
        .chat-header { background: linear-gradient(135deg, #ff79b0 0%, #ffb6c1 100%); padding: 50px 20px 15px; display: flex; align-items: center; color: white; }
        .mini-profile { width: 40px; height: 40px; background: rgba(255,255,255,0.3); border-radius: 50%; margin-right: 12px; display: flex; align-items: center; justify-content: center; }
        
        .message-area { 
            flex: 1; padding: 20px; padding-bottom: 350px; 
            display: flex; flex-direction: column; gap: 15px; 
            background: #fff; overflow-y: scroll; scroll-behavior: smooth;
        }

        .bubble { max-width: 75%; padding: 12px 18px; border-radius: 25px; font-size: 1rem; line-height: 1.4; }
        .ryan-msg { background: #f1f1f1; color: #222; align-self: flex-start; border-bottom-left-radius: 5px; }
        .olivia-msg { background: #ff79b0; color: white; align-self: flex-end; border-bottom-right-radius: 5px; }

        .typing { display: none; align-self: flex-start; background: #f1f1f1; padding: 12px 18px; border-radius: 25px; }
        .dot { height: 8px; width: 8px; background: #bbb; border-radius: 50%; display: inline-block; animation: bounce 1.3s infinite; margin: 0 2px; }
        @keyframes bounce { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-5px); } }
      .narrative-box {
            position: fixed;
            bottom: 2%;
            left: 50%;
            transform: translateX(-50%);
            width: 85%;
            max-width: 700px;
            background: rgba(255, 182, 193, 0.2); 
            backdrop-filter: blur(8px); 
            border-top: 3px solid#f699bf;
            padding: 10px;
            border-radius: 30px;
            text-align: center;
            z-index: 200;
            display: none;
            opacity: 0;
            transition: opacity 0.8s ease;
        }
         .narrative-box p { color: #fff; font-family: 'Bitter', serif; font-size: 1.1rem; margin: 0; text-shadow: 0 1px 3px rgba(0,0,0,0.8); }
         

 
        #endingOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(17, 17, 17, 0.95); color: white; z-index: 10000;
            display: none; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 20px; backdrop-filter: blur(10px);
        }

        .ending-banner {
            background: #ff79b0; color: white; padding: 20px 40px; border-radius: 50px;
            font-family: 'Luckiest Guy'; font-size: 3rem;
            box-shadow: 0 10px 30px rgba(255, 121, 176, 0.5);
            animation: slideDown 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards, glow 2s infinite;
            margin-bottom: 30px;
        }

        @keyframes slideDown {
            0% { transform: translateY(-100%) scale(0.5); opacity: 0; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px #fff; }
            50% { text-shadow: 0 0 20px #ff79b0, 0 0 30px #ff79b0; }
        }

        .blink { animation: blinker 1.5s linear infinite; margin-top: 20px; color: #ffb6c1; }
        @keyframes blinker { 50% { opacity: 0; } }
    </style>
</head>
<body>

    <audio id="ping" src="audio/sfx_notification.mp3"></audio>
    <audio id="audio15" src="audio/Olivia_14.mp3"></audio>

    <div class="chat-container">
        <div class="chat-header">
            <div class="mini-profile">üë§</div>
            <strong>Ryan (@Ryan_Real)</strong>
        </div>
        
        <div class="message-area" id="msgArea">
            <div class="bubble ryan-msg">we've been talking for a while now and i still don't know what u look like today. send a selfie? üòä</div>
            <div class="bubble olivia-msg">I don't really send selfies.</div>
            
            <div class="typing" id="typingDots">
                <span class="dot"></span><span class="dot"></span><span class="dot"></span>
            </div>
        </div>
    </div>

    <div id="endingOverlay">
        <div class="ending-banner">ENDING 1/3: STRANGER DANGER üõ°Ô∏è</div>
        <div style="max-width: 600px; line-height: 1.6;">
            <p>You recognized the <strong>Guilt Tripping</strong> and stood your ground!</p>
            <p>In the real world, if someone pressures you after you say "No," they are not your friend. Blocking them is the best way to stay safe.</p>
            <div class="blink">Press any key or click to try the other path...</div>
        </div>
    </div>

    <div class="narrative-box" id="narrativeBox">
        <p id="narrativeText">Wait, why is he being so mean about it? I thought we were friends...</p>
    </div>

    <script>
    const msgArea = document.getElementById('msgArea');
    const typing = document.getElementById('typingDots');
    const ping = document.getElementById('ping');
    const narrative = document.getElementById('narrativeBox');
    const a15 = document.getElementById('audio15');

    window.onload = function() {
        setTimeout(() => {
            typing.style.display = 'block';
            msgArea.scrollTo(0, msgArea.scrollHeight);

            setTimeout(() => {
                typing.style.display = 'none';
                if(ping) ping.play();

                const rMsg = document.createElement('div');
                rMsg.className = 'bubble ryan-msg';
                rMsg.innerText = "Wow, okay. I thought we were actually friends. It‚Äôs just a photo... don't you trust me by now? ‚òπÔ∏è";
                msgArea.insertBefore(rMsg, typing);
                msgArea.scrollTo(0, msgArea.scrollHeight);
                if(a15) a15.play();
            }, 3000);
        }, 1000);
    };
    a15.onplay = function() {
        narrative.style.display = 'block';
        setTimeout(() => { 
            narrative.style.opacity = '1'; 
        }, 50);
    };
    a15.onended = function() {
        setTimeout(() => {
            triggerEnding();
        }, 500); 
    };

    function triggerEnding() {
        document.getElementById('endingOverlay').style.display = 'flex';
        const restart = () => window.location.href = "Page8.html";
        window.addEventListener('keydown', restart, { once: true });
        window.addEventListener('mousedown', restart, { once: true });
    }
    </script>
</body>
</html>